<div class="space-y-6">
  @if (loading()) {
    <div class="flex justify-center items-center h-32">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
    </div>
  } @else {
    <!-- Stats Cards -->
    <div class="grid grid-cols-6 gap-4">
      <div class="bg-white p-6 rounded-lg border">
        <div class="text-3xl font-bold text-gray-900">{{stats()?.xactJobsVersion}}</div>
        <div class="text-sm text-gray-600">Version</div>
      </div>
      <div class="bg-white p-6 rounded-lg border">
        <div class="text-3xl font-bold text-gray-900">{{stats()?.uptimeDays}}</div>
        <div class="text-sm text-gray-600">Uptime (days)</div>
      </div>
      <div class="bg-white p-6 rounded-lg border">
        <div class="text-3xl font-bold text-gray-900">{{stats()?.connections}}</div>
        <div class="text-sm text-gray-600">Connections</div>
      </div>
      <div class="bg-white p-6 rounded-lg border">
        <div class="text-3xl font-bold text-gray-900">{{stats()?.memoryUsage}}</div>
        <div class="text-sm text-gray-600">Memory Usage</div>
      </div>
      <div class="bg-white p-6 rounded-lg border">
        <div class="text-3xl font-bold text-gray-900">{{stats()?.peakMemoryUsage}}</div>
        <div class="text-sm text-gray-600">Peak Memory Usage</div>
      </div>
      <div class="bg-white p-6 rounded-lg border">
        <div class="text-3xl font-bold text-gray-900">{{stats()?.pubSubChannels}}</div>
        <div class="text-sm text-gray-600">Pub/Sub Channels</div>
      </div>
    </div>

    <!-- Realtime Graph -->
    <div class="bg-white p-6 rounded-lg border">
      <h2 class="text-lg font-semibold mb-4">Realtime Graph</h2>
      <div class="h-64 bg-gradient-to-r from-green-400 to-green-500 rounded relative">
        @if (realtimeData()) {
          <div class="absolute bottom-4 right-4 bg-black bg-opacity-70 text-white p-2 rounded text-sm">
            <div>{{realtimeData()?.timestamp | date:'short'}}</div>
            <div class="flex items-center"><span class="w-2 h-2 bg-red-500 rounded-full mr-1"></span>Failed: {{realtimeData()?.failed}}</div>
            <div class="flex items-center"><span class="w-2 h-2 bg-orange-500 rounded-full mr-1"></span>Deleted: {{realtimeData()?.deleted}}</div>
            <div class="flex items-center"><span class="w-2 h-2 bg-green-500 rounded-full mr-1"></span>Succeeded: {{realtimeData()?.succeeded}}</div>
          </div>
        }
      </div>
    </div>

    <!-- History Graph -->
    <div class="bg-white p-6 rounded-lg border">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-lg font-semibold">History Graph</h2>
        <div class="flex space-x-2">
          <button class="px-3 py-1 border rounded bg-gray-100">Day</button>
          <button class="px-3 py-1 border rounded">Week</button>
        </div>
      </div>
      <div class="h-32 bg-gray-50 rounded"></div>
    </div>
  }

  @if (error()) {
    <div class="bg-red-50 border border-red-200 p-4 rounded">
      <p class="text-red-800">{{error()}}</p>
      <button (click)="loadData()" class="mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">
        Retry
      </button>
    </div>
  }
</div>
